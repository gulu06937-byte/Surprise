<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Be My Valentine ðŸ’–</title>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Comic Sans MS', cursive; }
    body { min-height: 100vh; background: linear-gradient(135deg, #ffe0ec, #ffc2d1); display: flex; align-items: center; justify-content: center; overflow: hidden; }
    .container { text-align: center; background: rgba(255,255,255,0.95); padding: 40px 50px; border-radius: 30px; box-shadow: 0 20px 40px rgba(255,77,109,0.25); z-index: 3; animation: pop 0.6s ease; }
    @keyframes pop { from { transform: scale(0.8); opacity: 0 } to { transform: scale(1); opacity: 1 } }
    h1 { color: #ff4d6d; margin-bottom: 30px; font-size: 30px; display: none; }
    .buttons { display:flex; gap:25px; justify-content:center; }
    button { padding: 14px 32px; font-size: 18px; border: none; border-radius: 40px; cursor: pointer; background: linear-gradient(135deg,#ff4d6d,#ff85a1); color:white; transition: transform .2s, box-shadow .2s; box-shadow: 0 8px 20px rgba(255,77,109,0.4); }
    button:hover, button:focus { transform: scale(1.12); box-shadow: 0 12px 25px rgba(255,77,109,0.6); outline: none; }
    .hearts { position: fixed; inset: 0; pointer-events: none; display: none; z-index: 2; }
    .heart { position: absolute; bottom: -30px; animation: floatUp linear forwards; opacity: 0.9; user-select: none; }
    @keyframes floatUp { to { transform: translateY(-120vh) scale(1.5); opacity: 0 } }

    /* Reveal overlay and caption */
    .reveal { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; z-index: 4; pointer-events: none; }
    .reveal-inner { position: relative; width: min(80vw, 520px); display: flex; flex-direction: column; align-items: center; gap: 16px; pointer-events: auto; }

    /* Caption styling */
    .caption { font-size: 32px; color: #ff4d6d; background: rgba(255,255,255,0.95); padding: 12px 20px; border-radius: 999px; box-shadow: 0 8px 20px rgba(255,77,109,0.18); transform: translateY(12px); opacity: 0; transition: transform .6s ease .1s, opacity .6s ease .1s; }
    .reveal.show .caption { transform: translateY(0); opacity: 1; }

    .pop-heart { position: absolute; font-size: 20px; pointer-events: none; will-change: transform, opacity; animation: popHeart 700ms cubic-bezier(.2,.9,.2,1) forwards; }
    @keyframes popHeart { 0% { transform: translateY(0) scale(0.6); opacity: 1 } 100% { transform: translateY(-48px) scale(1.6) rotate(-10deg); opacity: 0 } }
  </style>
</head>
<body>

  <div class="container" id="card" role="region" aria-labelledby="valentine-heading">
    <h1 id="valentine-heading" style="display:none;">Soumyajit, will you be my Valentine? ðŸ’˜</h1>
    <div class="buttons">
      <button type="button" onclick="startLove()" aria-label="Yes, accept" title="Yes ðŸ’–">Yes ðŸ’–</button>
      <button type="button" onclick="startLove()" aria-label="Yes, accept" title="Yes ðŸ’•">Yes ðŸ’•</button>
    </div>
  </div>

  <div class="hearts" id="hearts" aria-hidden="true"></div>

  <!-- Reveal overlay: no image, only caption -->
  <div class="reveal" id="reveal">
    <div class="reveal-inner" role="dialog" aria-label="Valentine reveal">

      <!-- Caption only -->
      <div class="caption" id="captionText">I love you Sunu</div>
    </div>
  </div>

  <script>
    let loveInterval = null;
    let popInterval = null;

    function startLove() {
      if (loveInterval) return;
      const card = document.getElementById("card");
      const hearts = document.getElementById("hearts");
      const reveal = document.getElementById("reveal");
      const caption = document.getElementById('captionText');

      card.style.display = "none";
      hearts.style.display = "block";

      // show reveal overlay and trigger transitions
      reveal.style.display = "flex";
      requestAnimationFrame(() => reveal.classList.add("show"));

      // pop small hearts around the caption area
      popCaptionHearts();
      popInterval = setInterval(popCaptionHearts, 350);

      // start creating floating hearts
      loveInterval = setInterval(createHeart, 120);

      // stop generating new hearts after 12 seconds to avoid infinite timers
      setTimeout(() => {
        clearInterval(loveInterval);
        loveInterval = null;
      }, 12000);

      // stop pop hearts after 3 seconds
      setTimeout(() => {
        clearInterval(popInterval);
        popInterval = null;
      }, 3000);
    }

    function popCaptionHearts() {
      const container = document.querySelector('.reveal-inner');
      if (!container) return;
      const caption = document.getElementById('captionText');
      const rect = caption.getBoundingClientRect();
      const parentRect = container.getBoundingClientRect();
      const centerX = rect.left - parentRect.left + rect.width/2;
      const topY = rect.top - parentRect.top + rect.height/2 - 8;

      const count = 6;
      for (let i = 0; i < count; i++) {
        const ph = document.createElement('div');
        ph.className = 'pop-heart';
        const emojis = ['ðŸ’–','ðŸ’•','ðŸ’—','ðŸ’˜','ðŸ’'];
        ph.textContent = emojis[Math.floor(Math.random()*emojis.length)];
        const offset = (Math.random() - 0.5) * (rect.width * 0.8);
        ph.style.left = (centerX + offset) + 'px';
        ph.style.top = (topY + (Math.random()-0.5)*20) + 'px';
        container.appendChild(ph);
        setTimeout(() => ph.remove(), 800);
      }
    }

    function createHeart() {
      const heart = document.createElement("div");
      heart.className = "heart";
      const emojis = ["ðŸ’–", "ðŸ’•", "ðŸ’—", "ðŸ’˜", "ðŸ’"];
      heart.textContent = emojis[Math.floor(Math.random() * emojis.length)];
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.animationDuration = (2 + Math.random() * 3) + "s";
      heart.style.fontSize = (18 + Math.random() * 32) + "px";
      document.getElementById("hearts").appendChild(heart);
      setTimeout(() => heart.remove(), 6000);
    }
  </script>

</body>
</html>